= form_for @api_application do |f|
  - if @api_application.errors.any?
    #error_explanation
      %h2= "#{pluralize(@api_application.errors.count, "error")} prohibited this api_application from being saved:"
      %ul
        - @api_application.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :name, "Application Name"
    %br
    = f.text_field :name
  .field
    = f.label :main_url, "Main URL"
    %br
    = f.text_field :main_url
  .field
    = f.label :callback_url, "Callback URL"
    %br
    = f.text_field :callback_url
  - if params[:action] == "new"
    .actions
      = f.submit 'Register application'
  - elsif params[:action] == "edit"
    .actions
      = f.submit 'Update application'
      = link_to 'Delete application', @api_application, method: :delete, data: { confirm: "Are you sure?" }
